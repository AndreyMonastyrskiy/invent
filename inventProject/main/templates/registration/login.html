{% extends "base.html" %}

{% block content %}
<div class="parent container d-flex justify-content-center align-items-center h-100">
{% if form.errors %}
    <p>Логин или пароль не подошли. Попробуйте снова.</p>     
{% endif %}

{% if next %}
  {% if user.is_authenticated %}
    <p>Ваша учетная запись не имееь доступа к данной странице. Для продолжения войдите в учетную запись, имеющую доступ к этой странице.</p>
  {% else %}
    <p>Пожалуйста, войдите, чтобы увидеть эту страницу.</p>
  {% endif %}
{% endif %}
</div>

<div class="parent container d-flex justify-content-center align-items-center h-100">
    <div>
        <form method="post" action="{% url 'login' %}">
                {% csrf_token %}
                <table>
                    <tr>
                        <td>{{ form.username.label_tag }}&nbsp;</td>
                        <td>{{ form.username }}</td>
                    </tr>
                    <tr>
                        <td>{{ form.password.label_tag }}</td>
                        <td>{{ form.password }}</td>
                    </tr>
                </table>
                <input type="submit" class="btn btn-primary" value="Войти" />
                <input type="hidden" name="next" value="{{ next }}" />
            </form>
    </div>
</div>
{% endblock %}